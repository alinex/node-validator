<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "", thisFile = "home/alex/a3/node-validator/READMEmd", defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>
  <script src="fileSearch.js"></script>
  <script src="goToLine.js"></script>
  <link rel="stylesheet" href="fileSearch.css" />
  <link rel="stylesheet" href="goToLine.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#package%3A%20alinex-validator">Package: alinex-validator</a>
      </div>
      <div class="heading h2">
        <a href="#install">Install</a>
      </div>
      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>
      <div class="heading h3">
        <a href="#only%20test">Only test</a>
      </div>
      <div class="heading h3">
        <a href="#get%20description">Get description</a>
      </div>
      <div class="heading h2">
        <a href="#optional%20values">Optional values</a>
      </div>
      <div class="heading h2">
        <a href="#references">References</a>
      </div>
      <div class="heading h2">
        <a href="#descriptive%20reporting">Descriptive reporting</a>
      </div>
      <div class="heading h2">
        <a href="#selfchecking%20options">Selfchecking Options</a>
      </div>
      <div class="heading h2">
        <a href="#possible%20types">Possible Types</a>
      </div>
      <div class="heading h3">
        <a href="#boolean">boolean</a>
      </div>
      <div class="heading h3">
        <a href="#function">function</a>
      </div>
      <div class="heading h3">
        <a href="#string">string</a>
      </div>
      <div class="heading h3">
        <a href="#integer">integer</a>
      </div>
      <div class="heading h3">
        <a href="#float">float</a>
      </div>
      <div class="heading h3">
        <a href="#byte">byte</a>
      </div>
      <div class="heading h3">
        <a href="#array">array</a>
      </div>
      <div class="heading h3">
        <a href="#object">object</a>
      </div>
      <div class="heading h3">
        <a href="#any">any</a>
      </div>
      <div class="heading h3">
        <a href="#and">and</a>
      </div>
      <div class="heading h3">
        <a href="#interval">interval</a>
      </div>
      <div class="heading h3">
        <a href="#percent">percent</a>
      </div>
      <div class="heading h2">
        <a href="#complete%20example">Complete Example</a>
      </div>
      <div class="heading h2">
        <a href="#package%20structure">Package structure</a>
      </div>
      <div class="heading h2">
        <a href="#license">License</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><a id="fork" href="https://github.com/alinex/node-validator" title="Fork me on GitHub"></a><div class="docs markdown">
<div class="pilwrap" id="package%3A%20alinex-validator">
  <h1>
    <a href="#package%3A%20alinex-validator" name="package%3A%20alinex-validator" class="pilcrow">&#182;</a>
    Package: alinex-validator
  </h1>
</div>


<p><a href="https://travis-ci.org/alinex/node-validator"><img src="https://travis-ci.org/alinex/node-validator.svg?branch=master" alt="Build Status" title="" /></a>
<a href="https://coveralls.io/r/alinex/node-validator?branch=master"><img src="https://coveralls.io/repos/alinex/node-validator/badge.png?branch=master" alt="Coverage Status" title="" /></a>
<a href="https://gemnasium.com/alinex/node-validator"><img src="https://gemnasium.com/alinex/node-validator.png" alt="Dependency Status" title="" /></a></p>

<p>This module will help validating complex structures. And may be used for all
external information.</p>

<ul>
<li>check value against options configuration</li>
<li>understandable errors</li>
<li>easy checking of values</li>
<li>may check complex structures</li>
<li>can give a human readable description</li>
</ul>

<p>The validation rules are really simple, but they will get more complex as your
data structure gains complexity.</p>

<p>It is one of the modules of the <a href="http://alinex.github.io/node-alinex">Alinex Universe</a>
following the code standards defined there.</p>


<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow">&#182;</a>
    Install
  </h2>
</div>


<p>The easiest way is to let npm add the module directly:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">npm</span> <span class="nx">install</span> <span class="nx">alinex</span><span class="o">-</span><span class="nx">validator</span> <span class="o">--</span><span class="nx">save</span>
</code></pre></div>



<p><a href="https://nodei.co/npm/alinex-validator/"><img src="https://nodei.co/npm/alinex-validator.png?downloads=true&amp;stars=true" alt="NPM" title="" /></a></p>


<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow">&#182;</a>
    Usage
  </h2>
</div>


<p>To use the validator you have to first include it:</p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">validator</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;alinex-validator&#39;</span><span class="p">);</span>
</code></pre></div>



<p>All checks are called with:</p>

<ul>
<li>a <code>source</code> which should specify where the value comes from and is used in error
reporting.</li>
<li>the <code>value</code> to check</li>
<li>an <code>options</code> array which specifies what to check</li>
<li>and optionally a <code>callback</code> function</li>
</ul>

<p>Most checks are synchronous and may be called synchronously or asynchronously.
Only if an asynchronous check is called synchronously it will throw an Error.</p>

<p>Synchronous call:</p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">});</span>
</code></pre></div>



<p>Asynchronous call:</p>


<div class="highlight"><pre><code><span class="nx">validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// error handling</span>
  <span class="p">}</span> <span class="k">else</span>  <span class="p">{</span>
    <span class="c1">// do something with value</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>



<p>The checks are split up into several packages to load on demand.</p>


<div class="pilwrap" id="only%20test">
  <h3>
    <a href="#only%20test" name="only%20test" class="pilcrow">&#182;</a>
    Only test
  </h3>
</div>


<p>If you won't change the value it is possible to call a simplified form:</p>


<div class="highlight"><pre><code><span class="k">if</span> <span class="p">(</span><span class="nx">validator</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">}))</span> <span class="p">{</span>
  <span class="c1">// do something</span>
<span class="p">};</span>
</code></pre></div>




<div class="pilwrap" id="get%20description">
  <h3>
    <a href="#get%20description" name="get%20description" class="pilcrow">&#182;</a>
    Get description
  </h3>
</div>


<p>This method may be used to get a human readable description of how a value
has to be to validate.</p>


<div class="highlight"><pre><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">describe</span><span class="p">({</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mi">100</span>
<span class="p">});</span>
</code></pre></div>




<div class="pilwrap" id="optional%20values">
  <h2>
    <a href="#optional%20values" name="optional%20values" class="pilcrow">&#182;</a>
    Optional values
  </h2>
</div>


<p>All types (excluding boolean) support the <code>optional</code> parameter, which makes an
entry in the data structure optional.
If not given it will be set to null or the value given with <code>default</code>.</p>

<ul>
<li><code>optional</code> - the value must not be present (will return null)</li>
<li><code>default</code> - value used if optional and no value given</li>
</ul>

<p>The <code>default</code> option automatically includes the <code>optional</code> option.</p>


<div class="pilwrap" id="references">
  <h2>
    <a href="#references" name="references" class="pilcrow">&#182;</a>
    References
  </h2>
</div>


<p>It is also possible to use references instead of values in the validation rules.
They are written as object with:</p>

<ul>
<li><code>reference</code> - the type of reference: absolute, relative, external</li>
<li><code>source</code> - the path to get the value</li>
<li><code>operation</code> - function which will be used on retrieved value</li>
</ul>

<p>External references will be checked against the data element given to the validator.</p>


<div class="pilwrap" id="descriptive%20reporting">
  <h2>
    <a href="#descriptive%20reporting" name="descriptive%20reporting" class="pilcrow">&#182;</a>
    Descriptive reporting
  </h2>
</div>


<p>To get even more descriptive reporting it is possible to set a title and abstract
for the given field in the configuration. This will be used in error reporting
and <code>describe()</code> calls.</p>


<div class="highlight"><pre><code><span class="nx">validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;float&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Overall Timeout&#39;</span><span class="p">,</span>
  <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;time in milliseconds the whole test may take&#39;</span><span class="p">,</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mi">500</span>
<span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// there will be the error</span>
  <span class="p">}</span> <span class="k">else</span>  <span class="p">{</span>
    <span class="c1">// do something with value</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>



<p>This may result in the following error:</p>

<blockquote>
  <p>Failed: The value is to low, it has to be at least 500 in test.timeout for "Overall Timeout".
  It should contain the time in milliseconds the whole test may take.</p>
</blockquote>


<div class="pilwrap" id="selfchecking%20options">
  <h2>
    <a href="#selfchecking%20options" name="selfchecking%20options" class="pilcrow">&#182;</a>
    Selfchecking Options
  </h2>
</div>


<p>It is also possible to let your complex options be validated against the
different types. This will help you to find problems in your development.
To do this you have to add it in your tests:</p>

<p><strong>Mocha coffee example:</strong></p>


<div class="highlight"><pre><code><span class="p">...</span>
<span class="nx">it</span> <span class="s2">&quot;should has correct validator rules&quot;</span><span class="p">,</span> <span class="o">-&gt;</span>
  <span class="nx">validator</span><span class="p">.</span><span class="nx">selfcheck</span> <span class="s1">&#39;config&#39;</span><span class="p">,</span> <span class="nx">MyObject</span><span class="p">.</span><span class="nx">config</span>
<span class="p">...</span>
</code></pre></div>




<div class="pilwrap" id="possible%20types">
  <h2>
    <a href="#possible%20types" name="possible%20types" class="pilcrow">&#182;</a>
    Possible Types
  </h2>
</div>



<div class="pilwrap" id="boolean">
  <h3>
    <a href="#boolean" name="boolean" class="pilcrow">&#182;</a>
    boolean
  </h3>
</div>


<p>The value has to be a boolean. The value will be true for 1, 'true', 'on',
'yes' and it will be considered as false for 0, 'false', 'off', 'no', null and
undefined.
Other values are not allowed.</p>

<p><strong>Validate options:</strong></p>

<ul>
<li><code>class</code> - (boolean) only a class or only a normal function is valid</li>
</ul>

<p><strong>Example:</strong></p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;verboseMode&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;boolean&#39;</span>
<span class="p">});</span>
</code></pre></div>




<div class="pilwrap" id="function">
  <h3>
    <a href="#function" name="function" class="pilcrow">&#182;</a>
    function
  </h3>
</div>


<p>The value has to be a function.
Other values are not allowed.</p>

<p><strong>Options:</strong> None</p>

<p><strong>Example:</strong></p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;function&#39;</span>
<span class="p">});</span>
</code></pre></div>




<div class="pilwrap" id="string">
  <h3>
    <a href="#string" name="string" class="pilcrow">&#182;</a>
    string
  </h3>
</div>


<p>This will test for strings and have lots of sanitize and optimization filters
and also different check settings to use.</p>

<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>tostring</code> - convert objects to string, first</li>
<li><code>allowControls</code> - keep control characters in string instead of
stripping them (but keep \r\n)</li>
<li><code>stripTags</code> - remove all html tags</li>
<li><code>lowerCase</code> - set to <code>true</code> or <code>first</code></li>
<li><code>upperCase</code> - set to <code>true</code> or <code>first</code></li>
<li><code>replace</code> - replacement or list with each replacement to contain of [search,
replacement text] while search may be a string or RegExp</li>
<li><code>trim</code> - strip whitespace from the beginning and end</li>
<li><code>crop</code> - crop text after number of characters</li>
</ul>

<p><strong>Validate options:</strong></p>

<ul>
<li><code>minLength</code> - minimum text length in characters</li>
<li><code>maxLength</code> - maximum text length in characters</li>
<li><code>values</code> - array of possible values (complete text)</li>
<li><code>startsWith</code> - start of text</li>
<li><code>endsWith</code> - end of text</li>
<li><code>match</code> - string or regular expression which have to be matched
(or list of expressions)</li>
<li><code>matchNot</code> - string or regular expression which is not allowed to
match (or list of expressions)</li>
</ul>


<div class="pilwrap" id="integer">
  <h3>
    <a href="#integer" name="integer" class="pilcrow">&#182;</a>
    integer
  </h3>
</div>


<p>To test for integer values which may be sanitized.</p>

<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>sanitize</code> - (bool) remove invalid characters</li>
<li><code>round</code> - (bool) rounding of float can be set to true for arithmetic rounding
or use <code>floor</code> or <code>ceil</code> for the corresponding methods</li>
</ul>

<p><strong>Validate options:</strong></p>

<ul>
<li><code>min</code> - (integer) the smalles allowed number</li>
<li><code>max</code> - (integer) the biggest allowed number</li>
<li><code>inttype</code> - (integer|string) the integer is of given type
(4, 8, 16, 32, 64, 'byte', 'short','long','quad', 'safe')</li>
<li><code>unsigned</code> - (bool) the integer has to be positive</li>
</ul>


<div class="pilwrap" id="float">
  <h3>
    <a href="#float" name="float" class="pilcrow">&#182;</a>
    float
  </h3>
</div>


<p>Nearly the same as for integer values but here are floats allowed, too.</p>

<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>sanitize</code> - (bool) remove invalid characters</li>
<li><code>round</code> - (int) number of decimal digits to round to</li>
</ul>

<p><strong>Check options:</strong></p>

<ul>
<li><code>min</code> - (numeric) the smalles allowed number</li>
<li><code>max</code> - (numeric) the biggest allowed number</li>
</ul>


<div class="pilwrap" id="byte">
  <h3>
    <a href="#byte" name="byte" class="pilcrow">&#182;</a>
    byte
  </h3>
</div>


<p>To test for byte values which may contain prefixes like <code>18M</code> or <code>6.2 GB</code>.</p>

<p><strong>Validate options:</strong></p>

<ul>
<li><code>min</code> - (integer) the smalles allowed number</li>
<li><code>max</code> - (integer) the biggest allowed number</li>
</ul>


<div class="pilwrap" id="array">
  <h3>
    <a href="#array" name="array" class="pilcrow">&#182;</a>
    array
  </h3>
</div>


<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>delimiter</code> - allow value text with specified list separator
(it can also be an regular expression)</li>
</ul>

<p><strong>Check options:</strong></p>

<ul>
<li><code>notEmpty</code> - set to true if an empty array is not valid</li>
<li><code>minLength</code> - minimum number of entries</li>
<li><code>maxLength</code> - maximum number of entries</li>
</ul>

<p><strong>Validating children:</strong></p>

<ul>
<li><code>entries</code> - specification for all entries or as array for each element</li>
</ul>


<div class="pilwrap" id="object">
  <h3>
    <a href="#object" name="object" class="pilcrow">&#182;</a>
    object
  </h3>
</div>


<p>For all complex data structures you use the object type which checks for named
arrays.</p>

<p><strong>Options:</strong></p>

<ul>
<li><code>instanceOf</code> - (class) only objects of given class type are allowed</li>
<li><code>mandatoryKeys</code> - (list) the list of elements which are mandatory</li>
<li><code>allowedKeys</code> - (list) gives a list of elements which are also allowed
or true to use the list from entries definition</li>
<li><code>entries</code> - specification for all entries or specific to the key name</li>
</ul>

<p>So you have three different ways to specify objects. First you may have class
instances as the object. Then you only can use the <code>instanceOf</code> check.</p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">instanceOf</span><span class="o">:</span> <span class="nb">RegExp</span>
<span class="p">});</span>
</code></pre></div>



<p>Next you may have an object in which you only want to specify what attributes
it should have but not checking the attribute values:</p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">mandatoryKeys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
  <span class="nx">allowedKeys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;mail&#39;</span><span class="p">,</span> <span class="s1">&#39;phone&#39;</span><span class="p">]</span>
<span class="p">});</span>
</code></pre></div>



<p>If you don't specify <code>allowedKeys</code> more attributes with other names are possible.</p>

<p>And the last and most complex situation is a deep checking structure:</p>


<div class="highlight"><pre><code><span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span><span class="s1">&#39;callback&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">allowedKeys</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">entries</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="p">},</span>
    <span class="nx">mail</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="nx">optional</span><span class="o">:</span> <span class="kc">true</span> <span class="p">},</span>
    <span class="nx">phone</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="nx">optional</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>



<p>Here <code>allowedKeys</code> will check that no attributes are used which are not specified
in the entries. Which attribute is optional may be specified within the attributes
specification. That means this check is the same as above but also checks that the
three attributes are strings.</p>


<div class="pilwrap" id="any">
  <h3>
    <a href="#any" name="any" class="pilcrow">&#182;</a>
    any
  </h3>
</div>


<p>This is used to give some alternatives from which at least one check have to
succeed. The first one succeeding will work.</p>

<p><strong>Option:</strong></p>

<ul>
<li><code>entries</code> - (array) with different check alternatives</li>
</ul>


<div class="pilwrap" id="and">
  <h3>
    <a href="#and" name="and" class="pilcrow">&#182;</a>
    and
  </h3>
</div>


<p>This is used to give multiple rules which will be executed in a series and
all have to succeed.</p>

<p><strong>Option:</strong></p>

<ul>
<li><code>entries</code> - (array) with multiple check rules</li>
</ul>


<div class="pilwrap" id="interval">
  <h3>
    <a href="#interval" name="interval" class="pilcrow">&#182;</a>
    interval
  </h3>
</div>


<p>A time interval may be given:</p>

<ul>
<li>directly as number</li>
<li>in a string with days, minutes and seconds: <code>1d 3h 12m 10s 400ms</code></li>
<li>in a time format: <code>03:20</code>, <code>02:18:10.5</code></li>
</ul>

<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>unit</code> - (string) type of unit to convert if not integer given</li>
<li><code>round</code> - (bool) rounding of float can be set to true for arithmetic rounding
or use <code>floor</code> or <code>ceil</code> for the corresponding methods</li>
</ul>

<p><strong>Check options:</strong></p>

<ul>
<li><code>min</code> - (integer) the smalles allowed number</li>
<li><code>max</code> - (integer) the biggest allowed number</li>
</ul>


<div class="pilwrap" id="percent">
  <h3>
    <a href="#percent" name="percent" class="pilcrow">&#182;</a>
    percent
  </h3>
</div>


<p>Nearly the same as float but values which are given as string using the % sign
like 50% are converted to floats like 0.5.</p>

<p><strong>Sanitize options:</strong></p>

<ul>
<li><code>round</code> - (int) number of decimal digits to round to</li>
</ul>

<p><strong>Check options:</strong></p>

<ul>
<li><code>min</code> - (numeric) the smalles allowed number</li>
<li><code>max</code> - (numeric) the biggest allowed number</li>
</ul>


<div class="pilwrap" id="complete%20example">
  <h2>
    <a href="#complete%20example" name="complete%20example" class="pilcrow">&#182;</a>
    Complete Example
  </h2>
</div>


<p>The following check structure comes from an coffee script program which
checks it's configuration file.</p>


<div class="highlight"><pre><code><span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Monitoring Configuration&quot;</span>
<span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span>
<span class="nx">allowedKeys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;runat&#39;</span><span class="p">,</span> <span class="s1">&#39;contacts&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">]</span>
<span class="nx">entries</span><span class="o">:</span>
  <span class="nx">runat</span><span class="o">:</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Location&quot;</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;the location of this machine to run only tests which have</span>
<span class="s2">      the same location or no location at all&quot;</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
    <span class="nx">optional</span><span class="o">:</span> <span class="kc">true</span>
  <span class="nx">contacts</span><span class="o">:</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Contacts&quot;</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;the possible contacts to be referred from controller for</span>
<span class="s2">      email alerts&quot;</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span>
    <span class="nx">entries</span><span class="o">:</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;any&#39;</span>
      <span class="nx">entries</span><span class="o">:</span> <span class="p">[</span>
        <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Contact Group&quot;</span>
        <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;the list of references in the group specifies the individual</span>
<span class="s2">          contacts&quot;</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;array&#39;</span>
        <span class="nx">entries</span><span class="o">:</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
      <span class="p">,</span>
        <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;Contact Details&quot;</span>
        <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;the name and email address for a specific contact&quot;</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span>
        <span class="nx">mandatoryKeys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
        <span class="nx">allowedKeys</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="nx">entries</span><span class="o">:</span>
          <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span>
      <span class="p">]</span>
</code></pre></div>




<div class="pilwrap" id="package%20structure">
  <h2>
    <a href="#package%20structure" name="package%20structure" class="pilcrow">&#182;</a>
    Package structure
  </h2>
</div>


<p>The validator is implemented as <code>index</code> which has the public available methods,
<code>helper</code> which is used for all data exchange and calls and the real check
implementations.</p>


<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow">&#182;</a>
    License
  </h2>
</div>


<p>Copyright 2014 Alexander Schilling</p>

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<blockquote>
  <p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</blockquote>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div>
  </div>
</body>
</html>
